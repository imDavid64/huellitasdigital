# Desactivar listado de carpetas y firma del servidor
Options -Indexes
ServerSignature Off

# --- üîí BLOQUEO DE ARCHIVOS SENSIBLES ---
<FilesMatch "\.(env|json|sql|log|lock|config|ini)$">
  Require all denied
</FilesMatch>

# --- üö´ BLOQUEAR PHP EN UPLOADS ---
# Si la carpeta no existe a√∫n, esto no causar√° error
RewriteRule ^public/uploads/ - [F,L]

# --- ‚öôÔ∏è MOTOR DE REESCRITURA ---
RewriteEngine On

# Ajusta esta l√≠nea al nombre de tu carpeta principal
RewriteBase /huellitasdigital/

# --- üåê FORZAR HTTPS (solo si el servidor lo soporta) ---
# ‚ö†Ô∏è Comenta estas dos l√≠neas si est√°s en localhost sin SSL
# RewriteCond %{HTTPS} !=on
# RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# --- üß≠ RUTAS LIMPIAS ---
# /controlador/accion ‚Üí index.php?controller=...&action=...
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^([^/]+)/([^/]+)/?$ index.php?controller=$1&action=$2 [L,QSA]

# /controlador ‚Üí index.php?controller=...&action=index
RewriteRule ^([^/]+)/?$ index.php?controller=$1&action=index [L,QSA]

# --- üìÑ ERRORES PERSONALIZADOS ---
ErrorDocument 403 /error403.php
ErrorDocument 404 /error404.php
